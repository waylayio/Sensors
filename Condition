{
  "name": "Condition",
  "version": "0.0.7",
  "type": "sensor",
  "script": "const main = () => {\n    const conditionScript = options.requiredProperties.condition\n    \n    let $input = null\n    let $attachNode = null\n    \n    try {\n        $attachNode =  waylayUtil.getAttachedSensorName(options)\n        $input = waylayUtil.getRawData(options, $attachNode)\n    } catch (_){ }\n    \n    try {\n        const returned = eval(`(function ($input, $attachNode) { ${conditionScript} })($input, $attachNode)`)\n        const result = returned\n        console.log(result)\n        \n        if (result === true || result === \"true\") {\n            send(null, { observedState: \"true\", rawData: $input })\n        } else if (result === false || result === \"false\") {\n            send(null, { observedState: \"false\", rawData: $input })\n        }\n    } catch (error) {\n        console.log(error)\n    }\n    \n    send(null, { observedState: \"undefined\", rawData: $input })\n}\n\nmain().catch(send)\n",
  "metadata": {
    "author": "",
    "iconURL": "https://static.waylay.io/plugs/icons/waylayGetLatestItem.png",
    "description": "",
    "rawData": [],
    "requiredProperties": [
      "condition"
    ],
    "supportedStates": [
      "true",
      "false",
      "undefined"
    ]
  }
}
